<% layout('layouts/boilerplate') %>
  <div class='row'>
    <h1 class='text-center'>New Post</h1>
    <div class='col-6 offset-3'>
      <form action='/tweets' method='POST' novalidate class='validated-form'>
        <div class='mb-3'>
          <label class='form-label' for='tweetText'>150 Characters</label>
          <textarea class='form-control' type='text' id='tweetText' name='tweet[tweetText]' required></textarea>
          <div class='valid-feedback'>
            Looks good
          </div>
        </div>
        <div class='mb-3'>
          <label class='form-label' for='image'>Image URL</label>
          <input class='form-control' type='text' id='image' name='tweet[image]'>
        </div>
        <div class='mb-3'>
          <button class='btn btn-success'>Post Tweet</button>
        </div>
      </form>
      <a href="/tweets">All Tweets</a>
    </div>
  </div>

  <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.validated-form')

        // Loop over them and prevent submission
        Array.from(forms)
          .forEach(function (form) {
            form.addEventListener('submit', function (event) {
              if (!form.checkValidity()) {
                event.preventDefault()
                event.stopPropagation()
              }

              form.classList.add('was-validated')
            }, false)
          })
      })()
  </script>
  
